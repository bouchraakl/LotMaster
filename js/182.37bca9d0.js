"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[182],{1757:function(e,t,a){a.d(t,{Z:function(){return i}});var r=a(7327),s=a(4161);class i{constructor(){(0,r.Z)(this,"axiosClient",void 0),this.axiosClient=s.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findByNome(e){try{const t=await s.Z.get(`http://localhost:8081/api/marca/nome?nome=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findById(e){try{const t=await this.axiosClient.get(`/api/marca/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/marca/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/marca",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/marca",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`/api/marca?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/marca?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},4452:function(e,t,a){a.d(t,{l:function(){return s}});var r=a(7327);class s{constructor(){(0,r.Z)(this,"currentPage",void 0),(0,r.Z)(this,"pageSize",void 0),(0,r.Z)(this,"direction",void 0),this.currentPage=0,this.direction="asc"}}},7182:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var r=a(3396),s=a(9242),i=a(7139);const n=e=>((0,r.dD)("data-v-89217066"),e=e(),(0,r.Cn)(),e),l={class:"access-content d-flex flex-column align-items-start justify-content-start"},c={class:"header d-flex align-content-start justify-content-between m-0"},o=n((()=>(0,r._)("p",{class:"title-pages"},"Access : Vehicle Brands",-1))),d={class:"search-container"},h=n((()=>(0,r._)("i",{class:"bi bi-search search-icon"},null,-1))),u={class:"filter d-flex align-items-center my-4 gap-4 w-100"},p={class:"filter-container d-flex align-items-center gap-2"},g=n((()=>(0,r._)("label",{for:"year-filter"},"Year:",-1))),m=n((()=>(0,r._)("option",{value:""},"All",-1))),f=["value"],y={class:"filter-container d-flex align-items-center gap-2"},b=n((()=>(0,r._)("label",{for:"month-filter"},"Month:",-1))),_=n((()=>(0,r._)("option",{value:""},"All",-1))),w=["value"],v=n((()=>(0,r._)("i",{class:"bi bi-plus-square"},null,-1))),C={class:"table table-sm table-bordered w-100"},P=n((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"Id"),(0,r._)("th",{scope:"col"},"Active"),(0,r._)("th",{scope:"col"},"Register Date"),(0,r._)("th",{scope:"col"},"Vehicle Brand Name"),(0,r._)("th",{scope:"col"},"Action")])],-1))),x={class:"d-flex justify-content-center gap-2"},k=["onClick"],B=n((()=>(0,r._)("i",{class:"bi bi-pencil-square"},null,-1))),Y=[B],z=["onClick"],D=n((()=>(0,r._)("i",{class:"bi bi-trash"},null,-1))),M=[D],S={class:"pagination-container align-self-end"},Z={class:"pagination"},j=n((()=>(0,r._)("span",{"aria-hidden":"true"},"«",-1))),I=[j],$=["disabled"],F=n((()=>(0,r._)("span",{"aria-hidden":"true"},"»",-1))),A=[F];function V(e,t,a,n,B,D){const j=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",c,[o,(0,r._)("div",d,[(0,r.wy)((0,r._)("input",{type:"text",class:"search-input",placeholder:"Search By Id or Name ...","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,512),[[s.nr,e.searchQuery]]),h])]),(0,r._)("div",u,[(0,r._)("div",p,[g,(0,r.wy)((0,r._)("select",{id:"year-filter","onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedYear=t),class:"form-select",style:{padding:"0.3rem 2rem 0.3rem 0.75rem"}},[m,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.selectableYears,(e=>((0,r.wg)(),(0,r.iD)("option",{value:e},(0,i.zw)(e),9,f)))),256))],512),[[s.bM,e.selectedYear]])]),(0,r._)("div",y,[b,(0,r.wy)((0,r._)("select",{id:"month-filter","onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedMonth=t),class:"form-select"},[_,((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(12,(e=>(0,r._)("option",{value:e},(0,i.zw)(e),9,w))),64))],512),[[s.bM,e.selectedMonth]])]),(0,r.Wm)(j,{to:"/register-vehicleBrand",class:"router"},{default:(0,r.w5)((()=>[v])),_:1})]),(0,r._)("table",C,[P,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.brandFilter,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",null,(0,i.zw)(t.id),1),(0,r._)("td",null,(0,i.zw)(t.ativo),1),(0,r._)("td",null,(0,i.zw)(e.formatDate(t.cadastro)),1),(0,r._)("td",null,(0,i.zw)(t.nome),1),(0,r._)("td",null,[(0,r._)("div",x,[(0,r._)("button",{class:"btn btn-sm btn-primary",onClick:a=>e.editItem(t),style:{width:"45px",height:"30px"}},Y,8,k),(0,r._)("button",{class:"btn btn-sm btn-danger",onClick:a=>e.deleteItem(t),style:{width:"45px",height:"30px"}},M,8,z)])])])))),128))])]),(0,r._)("div",S,[(0,r._)("ul",Z,[(0,r._)("li",{class:(0,i.C_)(["page-item",{disabled:0===e.currentPage}])},[(0,r._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[3]||(t[3]=(...t)=>e.previousPage&&e.previousPage(...t)),style:{color:"#3C3C43","background-color":"#B5C2C9"}},I)],2),(0,r._)("li",{class:"page-item",disabled:e.brandFilter.length<e.pageSize},[(0,r._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[4]||(t[4]=(...t)=>e.nextPage&&e.nextPage(...t)),style:{color:"#3C3C43","background-color":"#B5C2C9"}},A)],8,$)])])])}a(7658);var L=a(1757),Q=a(4452),N=(0,r.aZ)({name:"VehicleBrandView",data(){return{brands:[],searchQuery:"",selectedYear:null,selectedMonth:null,currentPage:0,pageSize:7}},computed:{brandFilter(){if(this.searchQuery||this.selectedYear||this.selectedMonth){const e=this.searchQuery.toLowerCase();return this.brands.filter((t=>{const a=new Date(t.cadastro),r=a.getFullYear(),s=a.getMonth()+1,i=t.id.toString().toLowerCase().includes(e)||t.nome.toString().toLowerCase().includes(e);return this.selectedYear&&this.selectedMonth?i&&r===this.selectedYear&&s===this.selectedMonth:this.selectedYear?i&&r===this.selectedYear:this.selectedMonth?i&&s===this.selectedMonth:i})).sort(((e,t)=>e.id-t.id))}return this.brands.slice().sort(((e,t)=>e.id-t.id))},selectableYears(){const e=(new Date).getFullYear(),t=[];for(let a=2019;a<=e;a++)t.push(a);return t}},mounted(){this.fetchBrands()},methods:{async fetchBrands(){try{const e=new Q.l;e.currentPage=this.currentPage,e.pageSize=this.pageSize;const t=new L.Z,a=await t.findByFiltrosPaginado(e);this.brands=a.content}catch(e){console.error(e)}},formatDate(e){const t=new Date(e),a=t.toLocaleDateString(),r=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${a} ${r}`},async deleteItem(e){const t=confirm("Are you sure you want to delete this vehicle brand?");if(t)try{const t=new L.Z;await t.delete(e.id),this.brands=this.brands.filter((t=>t.id!==e.id))}catch(a){console.error(a)}},async editItem(e){try{new L.Z;const t=e.id;await this.$router.push({name:"edit-vehicleBrand",params:{editBrandId:t}})}catch(t){console.error(t)}},previousPage(){this.currentPage>0&&(this.currentPage--,this.fetchBrands())},nextPage(){this.brandFilter.length===this.pageSize&&(this.currentPage++,this.fetchBrands())}}}),U=a(89);const H=(0,U.Z)(N,[["render",V],["__scopeId","data-v-89217066"]]);var K=H}}]);
//# sourceMappingURL=182.37bca9d0.js.map