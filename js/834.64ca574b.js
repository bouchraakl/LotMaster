"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[834],{1259:function(t,e,o){o.d(e,{a:function(){return n}});var s=o(7327),r=o(4161);class n{constructor(){(0,s.Z)(this,"axiosClient",void 0),this.axiosClient=r.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(t){try{const e=await this.axiosClient.get(`/api/condutor/${t}`);return e.data}catch(e){return Promise.reject(e)}}async findByNome(t){try{const e=await r.Z.get(`http://localhost:8081/api/condutor/nome?nome=${t}`);return e.data}catch(e){return Promise.reject(e)}}async getByCPF(t){try{const e=await r.Z.get(`http://localhost:8081/api/condutor/cpf?cpf=${t}`);return e.data}catch(e){return Promise.reject(e)}}async findAll(){try{const t=await this.axiosClient.get("/api/condutor/all");return t.data}catch(t){return console.error(t),[]}}async save(t){try{const e=await this.axiosClient.post("/api/condutor",t);return e.data}catch(e){return Promise.reject(e)}}async update(t){try{const e=await this.axiosClient.put("http://localhost:8081/api/condutor",t);return e.data}catch(e){return Promise.reject(e)}}async delete(t){try{await this.axiosClient.delete(`/api/condutor?id=${t}`)}catch(e){return Promise.reject(e.response)}}async findByFiltrosPaginado(t){try{let e="";return e+=`page=${t.currentPage}`,e+=`&size=${t.pageSize}`,(await this.axiosClient.get(`/api/condutor?${e}`)).data}catch(e){return Promise.reject(e.response)}}}},8167:function(t,e,o){o.d(e,{F:function(){return r}});var s=o(7327);class r{constructor(){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"cadastro",void 0),(0,s.Z)(this,"atualizacao",void 0),(0,s.Z)(this,"ativo",void 0),this.ativo=!0}}},4715:function(t,e,o){o.d(e,{v:function(){return n}});var s=o(7327),r=o(8167);class n extends r.F{constructor(){super(),(0,s.Z)(this,"nome",void 0),(0,s.Z)(this,"cpf",void 0),(0,s.Z)(this,"telefone",void 0),(0,s.Z)(this,"tempoPagoHoras",void 0),(0,s.Z)(this,"tempoPagoMinutos",void 0),(0,s.Z)(this,"tempoDescontoHoras",void 0),this.ativo=!0}}},6834:function(t,e,o){o.r(e),o.d(e,{default:function(){return Z}});var s=o(3396),r=o(9242),n=o(7139);const a=t=>((0,s.dD)("data-v-ff5dd39c"),t=t(),(0,s.Cn)(),t),i={class:"access-content d-flex flex-column align-items-start justify-content-start"},c=a((()=>(0,s._)("p",{class:"title-pages"},"Edit : Conductor",-1))),d={class:"form-application d-flex flex-column custom-section"},u={class:"d-flex align-items-center align-self-start gap-3"},l={class:"d-flex flex-column"},h=a((()=>(0,s._)("label",{for:"name",class:"form-label"},"Conductor Name",-1))),m={class:"d-flex flex-column"},p=a((()=>(0,s._)("label",{for:"cpf",class:"form-label"},"Conductor CPF",-1))),f={class:"d-flex align-items-center align-self-start gap-3"},g={class:"d-flex flex-column"},v=a((()=>(0,s._)("label",{for:"phone",class:"form-label"},"Conductor Phone",-1))),y={class:"mt-3 d-flex align-items-center gap-3"},C=a((()=>(0,s._)("button",{type:"submit"},"Update Driver",-1)));function x(t,e,o,a,x,P){return(0,s.wg)(),(0,s.iD)("div",i,[c,(0,s._)("div",d,[(0,s._)("form",{class:"form-app d-flex flex-column align-items-start mt-4 h-100 gap-3",onSubmit:e[4]||(e[4]=(0,r.iM)(((...e)=>t.submitForm&&t.submitForm(...e)),["prevent"]))},[(0,s._)("div",u,[(0,s._)("div",l,[h,(0,s.wy)((0,s._)("input",{class:"form-control",id:"name",style:{width:"300px"},"onUpdate:modelValue":e[0]||(e[0]=e=>t.condutorNome=e)},null,512),[[r.nr,t.condutorNome]])]),(0,s._)("div",m,[p,(0,s.wy)((0,s._)("input",{class:"form-control",id:"cpf",style:{width:"300px"},"onUpdate:modelValue":e[1]||(e[1]=e=>t.condutorCPF=e)},null,512),[[r.nr,t.condutorCPF]])])]),(0,s._)("div",f,[(0,s._)("div",g,[v,(0,s.wy)((0,s._)("input",{class:"form-control",id:"phone",style:{width:"300px"},"onUpdate:modelValue":e[2]||(e[2]=e=>t.condutorPhone=e)},null,512),[[r.nr,t.condutorPhone]])])]),(0,s._)("div",y,[C,(0,s._)("button",{type:"button",onClick:e[3]||(e[3]=(...e)=>t.cancelEdit&&t.cancelEdit(...e))},"Cancel"),(0,s._)("p",{class:(0,n.C_)(["error-message","success"===t.errorMessage.status?"text-success":"text-danger"])},(0,n.zw)(t.errorMessage.message),3)])],32)])])}o(7658);var P=o(1259),b=o(4715),_=(0,s.aZ)({data(){return{editedcondutor:new b.v,errorMessage:{status:"",message:""},condutorNome:"",condutorCPF:"",condutorPhone:""}},computed:{condutorClient(){return new P.a}},mounted(){this.fetchDriver()},methods:{async submitForm(){if(!this.condutorNome)return this.errorMessage.status="error",void(this.errorMessage.message="Driver name cannot be null.");if(!this.condutorCPF)return this.errorMessage.status="error",void(this.errorMessage.message="Driver CPF cannot be null.");if(!this.condutorPhone)return this.errorMessage.status="error",void(this.errorMessage.message="Driver Phone cannot be null.");this.editedcondutor.nome=this.condutorNome,this.editedcondutor.cpf=this.condutorCPF,this.editedcondutor.telefone=this.condutorPhone;try{this.editedcondutor.id=Number(this.$route.params.editConductorId),await this.condutorClient.update(this.editedcondutor),this.errorMessage.status="success",this.errorMessage.message="Driver edited successfully"}catch(t){if(this.errorMessage.status="error",t.response&&t.response.data){const e=Object.values(t.response.data);this.errorMessage.message=e.join(", ")}else this.errorMessage.message="An error occurred during updating."}},async fetchDriver(){const t=Number(this.$route.params.editConductorId);if(isNaN(t))console.log("Invalid editdDriverId parameter");else try{const e=await this.condutorClient.findById(t);this.condutorNome=e.nome,this.condutorCPF=e.cpf,this.condutorPhone=e.telefone,this.editedcondutor=e,console.log(e)}catch(e){console.log(e)}},cancelEdit(){this.$router.push("/access-conductor")}}}),w=o(89);const M=(0,w.Z)(_,[["render",x],["__scopeId","data-v-ff5dd39c"]]);var Z=M}}]);
//# sourceMappingURL=834.64ca574b.js.map