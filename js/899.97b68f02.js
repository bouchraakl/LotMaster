"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[899],{6800:function(e,t,s){s.d(t,{v:function(){return o}});var a=s(7327),i=s(4161);class o{constructor(){(0,a.Z)(this,"axiosClient",void 0),this.axiosClient=i.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(e){try{const t=await this.axiosClient.get(`/api/modelo/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findByNome(e){try{const t=await i.Z.get(`http://localhost:8081/api/modelo/nome?nome=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/modelo/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`http://localhost:8081/api/modelo?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/modelo?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},6647:function(e,t,s){s.d(t,{Y:function(){return o}});var a=s(7327),i=s(4161);class o{constructor(){(0,a.Z)(this,"axiosClient",void 0),this.axiosClient=i.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(e){try{const t=await this.axiosClient.get(`/api/veiculo/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findByPlaca(e){try{const t=await i.Z.get(`http://localhost:8081/api/veiculo/placa?placa=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/veiculo/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/veiculo",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/veiculo",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`/api/veiculo?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/veiculo?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},8167:function(e,t,s){s.d(t,{F:function(){return i}});var a=s(7327);class i{constructor(){(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"cadastro",void 0),(0,a.Z)(this,"atualizacao",void 0),(0,a.Z)(this,"ativo",void 0),this.ativo=!0}}},906:function(e,t,s){var a;s.d(t,{G:function(){return a}}),function(e){e["WHITE"]="WHITE",e["BLACK"]="BLACK",e["SILVER"]="SILVER",e["BLUE"]="BLUE",e["GRAY"]="GRAY",e["PINK"]="PINK"}(a||(a={}))},4164:function(e,t,s){s.d(t,{h:function(){return o}});var a=s(7327),i=s(8167);class o extends i.F{constructor(){super(),(0,a.Z)(this,"nome",void 0),this.ativo=!0}}},4753:function(e,t,s){s.d(t,{Z:function(){return l}});var a=s(7327),i=s(8167),o=s(4164);class l extends i.F{constructor(){super(),(0,a.Z)(this,"nome",void 0),(0,a.Z)(this,"marca",void 0),this.ativo=!0,this.marca=new o.h}}},7928:function(e,t,s){var a;s.d(t,{w:function(){return a}}),function(e){e["CAR"]="CAR",e["MOTORCYCLE"]="MOTORCYCLE",e["VAN"]="VAN"}(a||(a={}))},7744:function(e,t,s){s.d(t,{C:function(){return l}});var a=s(7327),i=s(8167),o=s(4753);class l extends i.F{constructor(){super(),(0,a.Z)(this,"placa",void 0),(0,a.Z)(this,"modelo",void 0),(0,a.Z)(this,"ano",void 0),(0,a.Z)(this,"cor",void 0),(0,a.Z)(this,"tipo",void 0),this.ativo=!0,this.modelo=new o.Z}}},4899:function(e,t,s){s.r(t),s.d(t,{default:function(){return F}});var a=s(3396),i=s(9242),o=s(7139);const l=e=>((0,a.dD)("data-v-4247527d"),e=e(),(0,a.Cn)(),e),r={class:"access-content d-flex flex-column align-items-start justify-content-start"},c=l((()=>(0,a._)("p",{class:"title-pages"},"Edit: Vehicle",-1))),n={class:"form-application d-flex flex-column custom-section"},d={class:"d-flex align-items-center align-self-start gap-3"},h={class:"d-flex flex-column"},u=l((()=>(0,a._)("label",{for:"plate",class:"form-label"},"Vehicle License Plate",-1))),p={class:"d-flex align-items-center align-self-start gap-3"},v={class:"d-flex flex-column"},m=l((()=>(0,a._)("label",{for:"models",class:"form-label"},"Associated Model",-1))),f={id:"datalistOptions"},y=["value"],g={class:"d-flex align-items-center align-self-start gap-3"},w={class:"d-flex flex-column"},C=l((()=>(0,a._)("label",{for:"year",class:"form-label"},"Vehicle Year",-1))),x={class:"d-flex flex-column"},b=l((()=>(0,a._)("label",{for:"color",class:"form-label"},"Vehicle Color",-1))),M=["value"],_={class:"d-flex flex-column"},P=l((()=>(0,a._)("label",{for:"type",class:"form-label"},"Vehicle Type",-1))),V=["value"],Z={class:"mt-3 d-flex align-items-center gap-3"},j=l((()=>(0,a._)("button",{type:"submit"},"Update Vehicle",-1)));function I(e,t,s,l,I,Y){return(0,a.wg)(),(0,a.iD)("div",r,[c,(0,a._)("div",n,[(0,a._)("form",{class:"form-app d-flex flex-column align-items-start mt-4 h-100 gap-3",onSubmit:t[6]||(t[6]=(0,i.iM)(((...t)=>e.submitForm&&e.submitForm(...t)),["prevent"]))},[(0,a._)("div",d,[(0,a._)("div",h,[u,(0,a.wy)((0,a._)("input",{class:"form-control",id:"plate",style:{width:"300px"},"onUpdate:modelValue":t[0]||(t[0]=t=>e.vehiclePlaca=t)},null,512),[[i.nr,e.vehiclePlaca]])])]),(0,a._)("div",p,[(0,a._)("div",v,[m,(0,a.wy)((0,a._)("input",{class:"form-control",list:"datalistOptions",id:"models",placeholder:"Search By Model Name ...",style:{width:"300px"},"onUpdate:modelValue":t[1]||(t[1]=t=>e.associatedModel=t)},null,512),[[i.nr,e.associatedModel]]),(0,a._)("datalist",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.datalistOptions,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e},null,8,y)))),256))])])]),(0,a._)("div",g,[(0,a._)("div",w,[C,(0,a.wy)((0,a._)("input",{class:"form-control",type:"number",id:"year",style:{width:"100px"},"onUpdate:modelValue":t[2]||(t[2]=t=>e.vehicleYear=t)},null,512),[[i.nr,e.vehicleYear]])]),(0,a._)("div",x,[b,(0,a.wy)((0,a._)("select",{class:"form-select",id:"color",style:{width:"200px"},"onUpdate:modelValue":t[3]||(t[3]=t=>e.vehicleColor=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.colors,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,o.zw)(e.toUpperCase()),9,M)))),128))],512),[[i.bM,e.vehicleColor]])]),(0,a._)("div",_,[P,(0,a.wy)((0,a._)("select",{class:"form-select",id:"type",style:{width:"200px"},"onUpdate:modelValue":t[4]||(t[4]=t=>e.vehicleType=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.types,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,o.zw)(e.toUpperCase()),9,V)))),128))],512),[[i.bM,e.vehicleType]])])]),(0,a._)("div",Z,[j,(0,a._)("button",{type:"button",onClick:t[5]||(t[5]=(...t)=>e.cancelEdit&&e.cancelEdit(...t))},"Cancel"),(0,a._)("p",{class:(0,o.C_)(["error-message","success"===e.errorMessage.status?"text-success":"text-danger"])},(0,o.zw)(e.errorMessage.message),3)])],32)])])}s(7658);var Y=s(6800),O=s(6647),$=s(906),A=s(7928),B=s(7744),E=(0,a.aZ)({data(){return{editedvehicle:new B.C,vehicles:[],datalistOptions:[],types:Object.values(A.w),colors:Object.values($.G),errorMessage:{status:"",message:""},vehiclePlaca:"",associatedModel:"",vehicleYear:0,vehicleColor:Object.values($.G)[0],vehicleType:Object.values(A.w)[0]}},async mounted(){try{this.fetchItems();const e=new Y.v,t=await e.findAll();this.datalistOptions=t.map((e=>e.nome)),console.log(this.datalistOptions)}catch(e){console.error("Failed to fetch vehicle data:",this.datalistOptions)}},computed:{vehicleClient(){return new O.Y}},methods:{async submitForm(){if(!this.vehiclePlaca)return this.errorMessage.status="error",void(this.errorMessage.message="Vehicle Plate cannot be null.");if(!this.associatedModel)return this.errorMessage.status="error",void(this.errorMessage.message="Model cannot be null.");if(!this.vehicleYear)return this.errorMessage.status="error",void(this.errorMessage.message="Vehicle Year cannot be null.");if(!this.vehicleColor)return this.errorMessage.status="error",void(this.errorMessage.message="Vehicle Color cannot be null.");if(!this.vehicleType)return this.errorMessage.status="error",void(this.errorMessage.message="Vehicle Type cannot be null.");this.editedvehicle.placa=this.vehiclePlaca,this.editedvehicle.modelo.nome=this.associatedModel,this.editedvehicle.ano=this.vehicleYear,this.editedvehicle.cor=this.vehicleColor,this.editedvehicle.tipo=this.vehicleType;try{this.editedvehicle.id=Number(this.$route.params.editVehicleId),await this.fetchModelsId(),await this.vehicleClient.update(this.editedvehicle),this.errorMessage.status="success",this.errorMessage.message="Vehicle edited successfully"}catch(e){if(this.errorMessage.status="error",e.response&&e.response.data){const t=Object.values(e.response.data);this.errorMessage.message=t.join(", ")}else this.errorMessage.message="An error occurred during updating."}},async fetchModelsId(){try{const e=new Y.v,t=await e.findByNome(this.editedvehicle.modelo.nome);t&&t.id?this.editedvehicle.modelo.id=t.id:console.error("Model not found")}catch(e){console.error("Failed to fetch model ID:",e)}},async fetchItems(){const e=Number(this.$route.params.editVehicleId);if(isNaN(e))console.log("Invalid editVehicleId parameter");else try{const t=await this.vehicleClient.findById(e);this.vehiclePlaca=t.placa,this.associatedModel=t.modelo.nome,this.vehicleYear=t.ano,this.vehicleColor=t.cor,this.vehicleType=t.tipo,this.editedvehicle=t,console.log(t)}catch(t){console.log(t)}},cancelEdit(){this.$router.push("/access-vehicle")}}}),T=s(89);const U=(0,T.Z)(E,[["render",I],["__scopeId","data-v-4247527d"]]);var F=U}}]);
//# sourceMappingURL=899.97b68f02.js.map