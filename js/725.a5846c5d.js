"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[725],{6800:function(e,t,s){s.d(t,{v:function(){return o}});var a=s(7327),i=s(4161);class o{constructor(){(0,a.Z)(this,"axiosClient",void 0),this.axiosClient=i.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(e){try{const t=await this.axiosClient.get(`/api/modelo/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findByNome(e){try{const t=await i.Z.get(`http://localhost:8081/api/modelo/nome?nome=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/modelo/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`http://localhost:8081/api/modelo?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/modelo?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},6647:function(e,t,s){s.d(t,{Y:function(){return o}});var a=s(7327),i=s(4161);class o{constructor(){(0,a.Z)(this,"axiosClient",void 0),this.axiosClient=i.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(e){try{const t=await this.axiosClient.get(`/api/veiculo/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findByPlaca(e){try{const t=await i.Z.get(`http://localhost:8081/api/veiculo/placa?placa=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/veiculo/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/veiculo",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/veiculo",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`/api/veiculo?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/veiculo?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},8167:function(e,t,s){s.d(t,{F:function(){return i}});var a=s(7327);class i{constructor(){(0,a.Z)(this,"id",void 0),(0,a.Z)(this,"cadastro",void 0),(0,a.Z)(this,"atualizacao",void 0),(0,a.Z)(this,"ativo",void 0),this.ativo=!0}}},906:function(e,t,s){var a;s.d(t,{G:function(){return a}}),function(e){e["WHITE"]="WHITE",e["BLACK"]="BLACK",e["SILVER"]="SILVER",e["BLUE"]="BLUE",e["GRAY"]="GRAY",e["PINK"]="PINK"}(a||(a={}))},4164:function(e,t,s){s.d(t,{h:function(){return o}});var a=s(7327),i=s(8167);class o extends i.F{constructor(){super(),(0,a.Z)(this,"nome",void 0),this.ativo=!0}}},4753:function(e,t,s){s.d(t,{Z:function(){return l}});var a=s(7327),i=s(8167),o=s(4164);class l extends i.F{constructor(){super(),(0,a.Z)(this,"nome",void 0),(0,a.Z)(this,"marca",void 0),this.ativo=!0,this.marca=new o.h}}},7928:function(e,t,s){var a;s.d(t,{w:function(){return a}}),function(e){e["CAR"]="CAR",e["MOTORCYCLE"]="MOTORCYCLE",e["VAN"]="VAN"}(a||(a={}))},7744:function(e,t,s){s.d(t,{C:function(){return l}});var a=s(7327),i=s(8167),o=s(4753);class l extends i.F{constructor(){super(),(0,a.Z)(this,"placa",void 0),(0,a.Z)(this,"modelo",void 0),(0,a.Z)(this,"ano",void 0),(0,a.Z)(this,"cor",void 0),(0,a.Z)(this,"tipo",void 0),this.ativo=!0,this.modelo=new o.Z}}},725:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var a=s(3396),i=s(9242),o=s(7139);const l=e=>((0,a.dD)("data-v-7c47c8bc"),e=e(),(0,a.Cn)(),e),r={class:"access-content d-flex flex-column align-items-start justify-content-start"},c=l((()=>(0,a._)("p",{class:"title-pages"},"Register: Vehicle",-1))),n={class:"form-application d-flex flex-column custom-section"},d={class:"d-flex align-items-center align-self-start gap-3"},u={class:"d-flex flex-column"},h=l((()=>(0,a._)("label",{for:"plate",class:"form-label"},"Vehicle License Plate",-1))),p={class:"d-flex align-items-center align-self-start gap-3"},m={class:"d-flex flex-column"},f=l((()=>(0,a._)("label",{for:"models",class:"form-label"},"Associated Model",-1))),v={id:"datalistOptions"},y=["value"],g=l((()=>(0,a._)("button",{class:"moveBtn m-0"},"Or Register New Model",-1))),w={class:"d-flex align-items-center align-self-start gap-3"},x={class:"d-flex flex-column"},C=l((()=>(0,a._)("label",{for:"year",class:"form-label"},"Vehicle Year",-1))),_={class:"d-flex flex-column"},b=l((()=>(0,a._)("label",{for:"color",class:"form-label"},"Vehicle Color",-1))),Z=["value"],M={class:"d-flex flex-column"},P=l((()=>(0,a._)("label",{for:"type",class:"form-label"},"Vehicle Type",-1))),j=["value"],V={class:"mt-4 d-flex align-items-center gap-3"},O=l((()=>(0,a._)("button",{type:"submit"},"Register Vehicle",-1))),A=l((()=>(0,a._)("button",null,"Access Vehicles",-1)));function B(e,t,s,l,B,R){const I=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[c,(0,a._)("div",n,[(0,a._)("form",{class:"form-app d-flex flex-column align-items-start mt-4 h-100 gap-3",onSubmit:t[5]||(t[5]=(0,i.iM)(((...t)=>e.submitForm&&e.submitForm(...t)),["prevent"]))},[(0,a._)("div",d,[(0,a._)("div",u,[h,(0,a.wy)((0,a._)("input",{class:"form-control",id:"plate",style:{width:"300px"},"onUpdate:modelValue":t[0]||(t[0]=t=>e.vehicle.placa=t)},null,512),[[i.nr,e.vehicle.placa]])])]),(0,a._)("div",p,[(0,a._)("div",m,[f,(0,a.wy)((0,a._)("input",{class:"form-control",list:"datalistOptions",id:"models",placeholder:"Search By Model Name ...",style:{width:"300px"},"onUpdate:modelValue":t[1]||(t[1]=t=>e.vehicle.modelo.nome=t)},null,512),[[i.nr,e.vehicle.modelo.nome]]),(0,a._)("datalist",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.datalistOptions,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e},null,8,y)))),256))])]),(0,a.Wm)(I,{to:"/register-vehicleModel",class:"align-self-end"},{default:(0,a.w5)((()=>[g])),_:1})]),(0,a._)("div",w,[(0,a._)("div",x,[C,(0,a.wy)((0,a._)("input",{class:"form-control",type:"number",id:"year",style:{width:"100px"},"onUpdate:modelValue":t[2]||(t[2]=t=>e.vehicle.ano=t)},null,512),[[i.nr,e.vehicle.ano]])]),(0,a._)("div",_,[b,(0,a.wy)((0,a._)("select",{class:"form-select",id:"color",style:{width:"200px"},"onUpdate:modelValue":t[3]||(t[3]=t=>e.vehicle.cor=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.colors,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,o.zw)(e.toUpperCase()),9,Z)))),128))],512),[[i.bM,e.vehicle.cor]])]),(0,a._)("div",M,[P,(0,a.wy)((0,a._)("select",{class:"form-select",id:"type",style:{width:"200px"},"onUpdate:modelValue":t[4]||(t[4]=t=>e.vehicle.tipo=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.types,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,o.zw)(e.toUpperCase()),9,j)))),128))],512),[[i.bM,e.vehicle.tipo]])])]),(0,a._)("div",V,[O,(0,a.Wm)(I,{to:"/access-vehicle",class:"m-0"},{default:(0,a.w5)((()=>[A])),_:1}),(0,a._)("p",{class:(0,o.C_)(["error-message","success"===e.errorMessage.status?"text-success":"text-danger"])},(0,o.zw)(e.errorMessage.message),3)])],32)])])}var R=s(6800),I=s(6647),$=s(906),F=s(7928),L=s(7744),U=(0,a.aZ)({data(){return{vehicle:new L.C,vehicles:[],datalistOptions:[],types:Object.values(F.w),colors:Object.values($.G),errorMessage:{status:"",message:""}}},async mounted(){try{const e=new R.v,t=await e.findAll();this.datalistOptions=t.map((e=>e.nome)),console.log(this.datalistOptions)}catch(e){console.error("Failed to fetch vehicle data:",this.datalistOptions)}},computed:{vehicleClient(){return new I.Y}},methods:{async submitForm(){try{await this.fetchModelsId();await this.vehicleClient.save(this.vehicle);this.errorMessage.status="success",this.errorMessage.message="Vehicle registered successfully"}catch(e){if(this.errorMessage.status="error",e.response&&e.response.data){const t=Object.values(e.response.data);this.errorMessage.message=t.join("")}else this.errorMessage.message="An error occurred during registration."}},async fetchModelsId(){try{const e=new R.v,t=await e.findByNome(this.vehicle.modelo.nome);t&&t.id?this.vehicle.modelo.id=t.id:console.error("Model not found")}catch(e){console.error("Failed to fetch model ID:",e)}}}}),Y=s(89);const k=(0,Y.Z)(U,[["render",B],["__scopeId","data-v-7c47c8bc"]]);var D=k}}]);
//# sourceMappingURL=725.a5846c5d.js.map