"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[802],{1757:function(t,e,a){a.d(e,{Z:function(){return i}});var s=a(7327),r=a(4161);class i{constructor(){(0,s.Z)(this,"axiosClient",void 0),this.axiosClient=r.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findByNome(t){try{const e=await r.Z.get(`http://localhost:8081/api/marca/nome?nome=${t}`);return e.data}catch(e){return Promise.reject(e)}}async findById(t){try{const e=await this.axiosClient.get(`/api/marca/${t}`);return e.data}catch(e){return Promise.reject(e)}}async findAll(){try{const t=await this.axiosClient.get("/api/marca/all");return t.data}catch(t){return console.error(t),[]}}async save(t){try{const e=await this.axiosClient.post("/api/marca",t);return e.data}catch(e){return Promise.reject(e)}}async update(t){try{const e=await this.axiosClient.put("http://localhost:8081/api/marca",t);return e.data}catch(e){return Promise.reject(e)}}async delete(t){try{await this.axiosClient.delete(`/api/marca?id=${t}`)}catch(e){return Promise.reject(e.response)}}async findByFiltrosPaginado(t){try{let e="";return e+=`page=${t.currentPage}`,e+=`&size=${t.pageSize}`,(await this.axiosClient.get(`/api/marca?${e}`)).data}catch(e){return Promise.reject(e.response)}}}},6800:function(t,e,a){a.d(e,{v:function(){return i}});var s=a(7327),r=a(4161);class i{constructor(){(0,s.Z)(this,"axiosClient",void 0),this.axiosClient=r.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(t){try{const e=await this.axiosClient.get(`/api/modelo/${t}`);return e.data}catch(e){return Promise.reject(e)}}async findByNome(t){try{const e=await r.Z.get(`http://localhost:8081/api/modelo/nome?nome=${t}`);return e.data}catch(e){return Promise.reject(e)}}async findAll(){try{const t=await this.axiosClient.get("/api/modelo/all");return t.data}catch(t){return console.error(t),[]}}async save(t){try{const e=await this.axiosClient.post("/api/modelo",t);return e.data}catch(e){return Promise.reject(e)}}async update(t){try{const e=await this.axiosClient.put("http://localhost:8081/api/modelo",t);return e.data}catch(e){return Promise.reject(e)}}async delete(t){try{await this.axiosClient.delete(`http://localhost:8081/api/modelo?id=${t}`)}catch(e){return Promise.reject(e.response)}}async findByFiltrosPaginado(t){try{let e="";return e+=`page=${t.currentPage}`,e+=`&size=${t.pageSize}`,(await this.axiosClient.get(`/api/modelo?${e}`)).data}catch(e){return Promise.reject(e.response)}}}},8167:function(t,e,a){a.d(e,{F:function(){return r}});var s=a(7327);class r{constructor(){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"cadastro",void 0),(0,s.Z)(this,"atualizacao",void 0),(0,s.Z)(this,"ativo",void 0),this.ativo=!0}}},4164:function(t,e,a){a.d(e,{h:function(){return i}});var s=a(7327),r=a(8167);class i extends r.F{constructor(){super(),(0,s.Z)(this,"nome",void 0),this.ativo=!0}}},4753:function(t,e,a){a.d(e,{Z:function(){return o}});var s=a(7327),r=a(8167),i=a(4164);class o extends r.F{constructor(){super(),(0,s.Z)(this,"nome",void 0),(0,s.Z)(this,"marca",void 0),this.ativo=!0,this.marca=new i.h}}},802:function(t,e,a){a.r(e),a.d(e,{default:function(){return $}});var s=a(3396),r=a(9242),i=a(7139);const o=t=>((0,s.dD)("data-v-bf7d1778"),t=t(),(0,s.Cn)(),t),n={class:"access-content d-flex flex-column align-items-start justify-content-start"},c=o((()=>(0,s._)("p",{class:"title-pages"},"Register : Vehicle Model",-1))),l={class:"form-application d-flex flex-column custom-section"},d={class:"d-flex align-items-center align-self-start gap-3"},u={class:"d-flex flex-column"},m=o((()=>(0,s._)("label",{for:"brands",class:"form-label"},"Associated Brand",-1))),h={id:"datalistOptions"},p=["value"],f=o((()=>(0,s._)("button",{class:"moveBtn m-0"},"Or Register New Brand",-1))),g={class:"d-flex align-items-center align-self-start gap-3"},y={class:"d-flex flex-column"},v=o((()=>(0,s._)("label",{for:"modelname",class:"form-label"},"Model Name",-1))),w={class:"mt-3 d-flex align-items-center gap-3"},x=o((()=>(0,s._)("button",{type:"submit"},"Register Vehicle Model",-1))),C=o((()=>(0,s._)("button",null,"Access Vehicle Models",-1)));function _(t,e,a,o,_,b){const Z=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[c,(0,s._)("div",l,[(0,s._)("form",{class:"form-app d-flex flex-column align-items-start mt-4 h-100 gap-3",onSubmit:e[2]||(e[2]=(0,r.iM)(((...e)=>t.submitForm&&t.submitForm(...e)),["prevent"]))},[(0,s._)("div",d,[(0,s._)("div",u,[m,(0,s.wy)((0,s._)("input",{class:"form-control",list:"datalistOptions",id:"brands",style:{width:"300px"},"onUpdate:modelValue":e[0]||(e[0]=e=>t.model.marca.nome=e)},null,512),[[r.nr,t.model.marca.nome]]),(0,s._)("datalist",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.datalistOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t},null,8,p)))),256))])]),(0,s.Wm)(Z,{to:"/register-vehicleBrand",class:"align-self-end"},{default:(0,s.w5)((()=>[f])),_:1})]),(0,s._)("div",g,[(0,s._)("div",y,[v,(0,s.wy)((0,s._)("input",{class:"form-control",id:"modelname",style:{width:"300px"},"onUpdate:modelValue":e[1]||(e[1]=e=>t.model.nome=e)},null,512),[[r.nr,t.model.nome]])])]),(0,s._)("div",w,[x,(0,s.Wm)(Z,{to:"/access-vehicleModel",class:"m-0"},{default:(0,s.w5)((()=>[C])),_:1}),(0,s._)("p",{class:(0,i.C_)(["error-message","success"===t.errorMessage.status?"text-success":"text-danger"])},(0,i.zw)(t.errorMessage.message),3)])],32)])])}var b=a(1757),Z=a(6800),j=a(4753),M=(0,s.aZ)({data(){return{model:new j.Z,models:[],datalistOptions:[],errorMessage:{status:"",message:""}}},async mounted(){try{const t=new b.Z,e=await t.findAll();this.datalistOptions=e.map((t=>t.nome)),console.log(this.datalistOptions)}catch(t){console.error("Failed to fetch model data:",this.datalistOptions)}},computed:{modelClient(){return new Z.v}},methods:{async submitForm(){try{await this.fetchBrandId();await this.modelClient.save(this.model);this.errorMessage.status="success",this.errorMessage.message="Vehicle Model registered successfully"}catch(t){if(this.errorMessage.status="error",t.response&&t.response.data){console.log(t.response.data);const e=Object.values(t.response.data);this.errorMessage.message=e.join("")}else this.errorMessage.message="An error occurred during registration."}},async fetchBrandId(){try{const t=new b.Z,e=await t.findByNome(this.model.marca.nome);e&&e.id&&(this.model.marca.id=e.id)}catch(t){if(this.errorMessage.status="error",t.response&&t.response.data){const e=Object.values(t.response.data);this.errorMessage.message=e.join("")}else this.errorMessage.message="Vehicle Brand not found."}}}}),P=a(89);const B=(0,P.Z)(M,[["render",_],["__scopeId","data-v-bf7d1778"]]);var $=B}}]);
//# sourceMappingURL=802.2afe64b0.js.map