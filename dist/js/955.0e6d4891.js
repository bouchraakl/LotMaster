"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[955],{6800:function(e,t,a){a.d(t,{v:function(){return i}});var s=a(7327),l=a(4161);class i{constructor(){(0,s.Z)(this,"axiosClient",void 0),this.axiosClient=l.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findById(e){try{const t=await this.axiosClient.get(`/api/modelo/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findByNome(e){try{const t=await l.Z.get(`http://localhost:8081/api/modelo/nome?nome=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/modelo/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/modelo",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`http://localhost:8081/api/modelo?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/modelo?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},4452:function(e,t,a){a.d(t,{l:function(){return l}});var s=a(7327);class l{constructor(){(0,s.Z)(this,"currentPage",void 0),(0,s.Z)(this,"pageSize",void 0),(0,s.Z)(this,"direction",void 0),this.currentPage=0,this.direction="asc"}}},2955:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var s=a(3396),l=a(9242),i=a(7139);const n=e=>((0,s.dD)("data-v-371bf5d6"),e=e(),(0,s.Cn)(),e),r={class:"access-content d-flex flex-column align-items-start justify-content-start"},o={class:"header d-flex align-content-start justify-content-between m-0"},c=n((()=>(0,s._)("p",{class:"title-pages"},"Access : Vehicle Models",-1))),d={class:"search-container"},h=n((()=>(0,s._)("i",{class:"bi bi-search search-icon"},null,-1))),u={class:"filter d-flex align-items-center my-4 gap-4 w-100"},p={class:"filter-container d-flex align-items-center gap-2"},m=n((()=>(0,s._)("label",{for:"year-filter"},"Year:",-1))),g=n((()=>(0,s._)("option",{value:""},"All",-1))),f=["value"],y={class:"filter-container d-flex align-items-center gap-2"},_=n((()=>(0,s._)("label",{for:"month-filter"},"Month:",-1))),w=n((()=>(0,s._)("option",{value:""},"All",-1))),b=["value"],v=n((()=>(0,s._)("i",{class:"bi bi-plus-square"},null,-1))),C={class:"table table-sm table-bordered w-100"},P=n((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"Id"),(0,s._)("th",{scope:"col"},"Active"),(0,s._)("th",{scope:"col"},"Register Date"),(0,s._)("th",{scope:"col"},"Vehicle Model Name"),(0,s._)("th",{scope:"col"},"Vehicle Brand Name"),(0,s._)("th",{scope:"col"},"Action")])],-1))),x={class:"d-flex justify-content-center gap-2"},M=["onClick"],k=n((()=>(0,s._)("i",{class:"bi bi-pencil-square"},null,-1))),Y=[k],z=["onClick"],D=n((()=>(0,s._)("i",{class:"bi bi-trash"},null,-1))),S=[D],j={class:"pagination-container align-self-end"},I={class:"pagination"},$=n((()=>(0,s._)("span",{"aria-hidden":"true"},"«",-1))),A=[$],B=["disabled"],F=n((()=>(0,s._)("span",{"aria-hidden":"true"},"»",-1))),V=[F];function Z(e,t,a,n,k,D){const $=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",o,[c,(0,s._)("div",d,[(0,s.wy)((0,s._)("input",{type:"text",class:"search-input",placeholder:"Search By Id or name ...","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchQuery=t)},null,512),[[l.nr,e.searchQuery]]),h])]),(0,s._)("div",u,[(0,s._)("div",p,[m,(0,s.wy)((0,s._)("select",{id:"year-filter","onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedYear=t),class:"form-select",style:{padding:"0.3rem 2rem 0.3rem 0.75rem"}},[g,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.selectableYears,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e},(0,i.zw)(e),9,f)))),256))],512),[[l.bM,e.selectedYear]])]),(0,s._)("div",y,[_,(0,s.wy)((0,s._)("select",{id:"month-filter","onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedMonth=t),class:"form-select"},[w,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(12,(e=>(0,s._)("option",{value:e},(0,i.zw)(e),9,b))),64))],512),[[l.bM,e.selectedMonth]])]),(0,s.Wm)($,{to:"/register-vehicleModel",class:"router"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("table",C,[P,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.modelFilter,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,i.zw)(t.id),1),(0,s._)("td",null,(0,i.zw)(t.ativo),1),(0,s._)("td",null,(0,i.zw)(e.formatDate(t.cadastro)),1),(0,s._)("td",null,(0,i.zw)(t.nome),1),(0,s._)("td",null,(0,i.zw)(t.marca.nome),1),(0,s._)("td",null,[(0,s._)("div",x,[(0,s._)("button",{class:"btn btn-sm btn-primary",onClick:a=>e.editItem(t),style:{width:"45px",height:"30px"}},Y,8,M),(0,s._)("button",{class:"btn btn-sm btn-danger",onClick:a=>e.deleteItem(t),style:{width:"45px",height:"30px"}},S,8,z)])])])))),128))])]),(0,s._)("div",j,[(0,s._)("ul",I,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:0===e.currentPage}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[3]||(t[3]=(...t)=>e.previousPage&&e.previousPage(...t)),style:{color:"#3C3C43","background-color":"#B5C2C9"}},A)],2),(0,s._)("li",{class:"page-item",disabled:e.modelFilter.length<e.pageSize},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[4]||(t[4]=(...t)=>e.nextPage&&e.nextPage(...t)),style:{color:"#3C3C43","background-color":"#B5C2C9"}},V)],8,B)])])])}a(7658);var L=a(6800),Q=a(4452),N=(0,s.aZ)({name:"AccessVehicleModelView",data(){return{models:[],searchQuery:"",selectedYear:null,selectedMonth:null,currentPage:0,pageSize:9}},computed:{modelFilter(){if(this.searchQuery||this.selectedYear||this.selectedMonth){const e=this.searchQuery.toLowerCase();return this.models.filter((t=>{const a=new Date(t.cadastro),s=a.getFullYear(),l=a.getMonth()+1,i=t.id.toString().toLowerCase().includes(e)||t.nome.toString().toLowerCase().includes(e)||t.marca.nome.toString().toLowerCase().includes(e);return this.selectedYear&&this.selectedMonth?i&&s===this.selectedYear&&l===this.selectedMonth:this.selectedYear?i&&s===this.selectedYear:this.selectedMonth?i&&l===this.selectedMonth:i}))}return this.models},selectableYears(){const e=(new Date).getFullYear(),t=[];for(let a=2019;a<=e;a++)t.push(a);return t}},mounted(){this.fetchModels()},methods:{async fetchModels(){try{const e=new Q.l;e.currentPage=this.currentPage,e.pageSize=this.pageSize;const t=new L.v,a=await t.findByFiltrosPaginado(e);this.models=a.content}catch(e){console.error(e)}},formatDate(e){const t=new Date(e),a=t.toLocaleDateString(),s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${a} ${s}`},async deleteItem(e){const t=confirm("Are you sure you want to delete this vehicle modelo?");if(t)try{const t=new L.v;await t.delete(e.id),this.models=this.models.filter((t=>t.id!==e.id))}catch(a){console.error(a)}},async editItem(e){try{new L.v;const t=e.id;await this.$router.push({name:"edit-vehicleModel",params:{editModelId:t}})}catch(t){console.error(t)}},previousPage(){this.currentPage>0&&(this.currentPage--,this.fetchModels())},nextPage(){this.modelFilter.length===this.pageSize&&(this.currentPage++,this.fetchModels())}}}),U=a(89);const H=(0,U.Z)(N,[["render",Z],["__scopeId","data-v-371bf5d6"]]);var K=H}}]);
//# sourceMappingURL=955.0e6d4891.js.map