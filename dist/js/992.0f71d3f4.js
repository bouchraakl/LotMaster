"use strict";(self["webpackChunkparking_final"]=self["webpackChunkparking_final"]||[]).push([[992],{1757:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(7327),r=a(4161);class n{constructor(){(0,s.Z)(this,"axiosClient",void 0),this.axiosClient=r.Z.create({baseURL:"http://localhost:8081",headers:{"Content-type":"application/json"}})}async findByNome(e){try{const t=await r.Z.get(`http://localhost:8081/api/marca/nome?nome=${e}`);return t.data}catch(t){return Promise.reject(t)}}async findById(e){try{const t=await this.axiosClient.get(`/api/marca/${e}`);return t.data}catch(t){return Promise.reject(t)}}async findAll(){try{const e=await this.axiosClient.get("/api/marca/all");return e.data}catch(e){return console.error(e),[]}}async save(e){try{const t=await this.axiosClient.post("/api/marca",e);return t.data}catch(t){return Promise.reject(t)}}async update(e){try{const t=await this.axiosClient.put("http://localhost:8081/api/marca",e);return t.data}catch(t){return Promise.reject(t)}}async delete(e){try{await this.axiosClient.delete(`/api/marca?id=${e}`)}catch(t){return Promise.reject(t.response)}}async findByFiltrosPaginado(e){try{let t="";return t+=`page=${e.currentPage}`,t+=`&size=${e.pageSize}`,(await this.axiosClient.get(`/api/marca?${t}`)).data}catch(t){return Promise.reject(t.response)}}}},8167:function(e,t,a){a.d(t,{F:function(){return r}});var s=a(7327);class r{constructor(){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"cadastro",void 0),(0,s.Z)(this,"atualizacao",void 0),(0,s.Z)(this,"ativo",void 0),this.ativo=!0}}},4164:function(e,t,a){a.d(t,{h:function(){return n}});var s=a(7327),r=a(8167);class n extends r.F{constructor(){super(),(0,s.Z)(this,"nome",void 0),this.ativo=!0}}},9992:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var s=a(3396),r=a(7139),n=a(9242);const i=e=>((0,s.dD)("data-v-1d890f09"),e=e(),(0,s.Cn)(),e),o={class:"access-content d-flex flex-column align-items-start justify-content-start"},c={class:"title-pages"},d={class:"form-application d-flex flex-column custom-section"},l={class:"d-flex align-items-center align-self-start gap-3"},u={class:"d-flex flex-column"},m=i((()=>(0,s._)("label",{for:"brand",class:"form-label"},"Vehicle Brand Name",-1))),h={class:"mt-3 d-flex align-items-center gap-3"},p=i((()=>(0,s._)("button",{type:"submit"},"Update Vehicle Brand",-1)));function f(e,t,a,i,f,g){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("p",c,"Edit: "+(0,r.zw)(e.brandName),1),(0,s._)("div",d,[(0,s._)("form",{class:"form-app d-flex flex-column align-items-start mt-4 h-100 gap-3",onSubmit:t[2]||(t[2]=(0,n.iM)(((...t)=>e.submitForm&&e.submitForm(...t)),["prevent"]))},[(0,s._)("div",l,[(0,s._)("div",u,[m,(0,s.wy)((0,s._)("input",{class:"form-control",id:"brand",style:{width:"300px"},"onUpdate:modelValue":t[0]||(t[0]=t=>e.brandName=t)},null,512),[[n.nr,e.brandName]])])]),(0,s._)("div",h,[p,(0,s._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.cancelEdit&&e.cancelEdit(...t))},"Cancel"),(0,s._)("p",{class:(0,r.C_)(["error-message","success"===e.errorMessage.status?"text-success":"text-danger"])},(0,r.zw)(e.errorMessage.message),3)])],32)])])}a(7658);var g=a(1757),b=a(4164),y=(0,s.aZ)({data(){return{editedBrand:new b.h,brandName:"",errorMessage:{status:"",message:""}}},computed:{brandClient(){return new g.Z}},mounted(){this.fetchBrand()},methods:{async submitForm(){if(!this.brandName)return this.errorMessage.status="error",void(this.errorMessage.message="Brand name cannot be null.");this.editedBrand.nome=this.brandName;try{this.editedBrand.id=Number(this.$route.params.editBrandId),await this.brandClient.update(this.editedBrand),this.errorMessage.status="success",this.errorMessage.message="Brand edited successfully"}catch(e){if(this.errorMessage.status="error",e.response&&e.response.data){const t=Object.values(e.response.data);this.errorMessage.message=t.join(", ")}else this.errorMessage.message="An error occurred during updating."}},async fetchBrand(){const e=Number(this.$route.params.editBrandId);if(isNaN(e))console.log("Invalid editBrandIds parameter");else try{const t=await this.brandClient.findById(e);this.brandName=t.nome,this.editedBrand=t,console.log(t)}catch(t){console.log(t)}},cancelEdit(){this.$router.push("/access-vehicleBrand")}}}),v=a(89);const x=(0,v.Z)(y,[["render",f],["__scopeId","data-v-1d890f09"]]);var B=x}}]);
//# sourceMappingURL=992.0f71d3f4.js.map